<!DOCTYPE html>
<html lang = "en">
    <head>
    <meta charset = "UTF-8">
    <title>事件类型</title>
    </head>
    <body>
    
        <script type = "text/javascript">
        var EventUtil = {
            addHandler: function(element, type, handler){
                //绑定事件
                //chrome firefox IE9等   addEventListener
                //IE8及IE8以下的游览器  attachEvent
                if(element.addEventListener){
                    element.addEventListener(type, handler, false);
            }else if(element.attachEvent){
                element.attachEvent("on" + type, handler);
            }else{
                element["on" + type] = null
            }
        }, 

        removeHandler: function(element, type, handler){
            //移除事件
            //chrome firefox IE9等  removeEventListener
            //IE8及IE8以下的游览器   detachEvent
            if(element.removeEventListener){
                element.removeEventListener(type, handler, false);
            }else if(element.detachEvent){
                element.detachEvent("on" + type, handler);
            }else{
                element["on" + type] = null;
            }
        
    }, 
    
    getTarget:function(event){
        return event.target || event.srcElement;

    }, 
    preventDefault: function(event){
        if(event.preventDefault){
            event.preventDefault();
        }else{
            event.returnVable = false;
        }
    },

    stopPropagation: function(event){
        if(event.stopPropagation){
            event.stopPropagation();
        }else{
            event.cancelBubble = true;
        }
    }
}


//UI事件
//当页面完全加载后在window上面触发

EventUtil.addHandler(window, "load", function(e){
    alert("Loaded!");
});

var image = document.createElement("img");
EventUtil.addHandler(image, "load", function(e){
    e = EventUtil.getEvent(e);
    alert(EventUtil.getTarget(e),src);
})

    </script>   
    </body>

</html>